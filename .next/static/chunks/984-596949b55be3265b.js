"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{1731:(e,t,r)=>{r.d(t,{default:()=>o});var i=r(5155),n=r(2717),s=r(7219),l=r(2115),a=r(2615),c=r(8067);function o(){let e=(0,l.useRef)({});async function t(){let t=e.current.name.value;if(""===t)return void a.h.showError("Введите имя");if(!c.rj.isRussianText(t))return void a.h.showError("Имя должно быть написано русскими буквами");let r=e.current.email.value;if(""===r)return void a.h.showError("Введите email");if(!c.rj.isValidEmail(r))return void a.h.showError("Введите корректный email");let i=await fetch("/api/proxy/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:r})});i.ok||a.h.showError("Что-то пошло не так: "+i.statusText);let n=await i.json();n.status?a.h.showSuccess("Заявка успешно сохранена"):a.h.showError("Что то пошло не так: "+n.message)}return(0,i.jsx)("div",{className:"mt-10 700:mt-25 py-16 w-full flex justify-center",children:(0,i.jsxs)("div",{className:"w-full flex flex-col gap-6 items-center px-4 800:px-0",children:[(0,i.jsx)("h2",{className:"text-[22px] 800:text-[44px] font-semibold leading-[34px] 800:leading-[62px]",children:"Мы Вам перезвоним"}),(0,i.jsx)("p",{className:"max-w-max 800:max-w-[518px] leading-[24px] 800:leading-[26px] text-center text-sm 800:text-base",children:"Если у вас возникли какие-то вопросы или проблемы, заполните форму и мы Вам перезвоним."}),(0,i.jsxs)("div",{className:"w-full grid grid-cols-1 800:grid-cols-[240px_240px_220px] grid-rows-3 800:grid-rows-[50px] gap-y-4 justify-center",children:[(0,i.jsx)(s.A,{ref:t=>{e.current.name=t},className:"border-0!",placeholder:"Ваше имя"}),(0,i.jsx)(s.A,{ref:t=>{e.current.email=t},className:"border-0!",type:"email",placeholder:"Ваш Email"}),(0,i.jsx)(n.A,{onClick:t,className:"w-full h-full flex justify-center items-center mt-2 800:mt-0",children:"Отправить"})]})]})})}},2615:(e,t,r)=>{r.d(t,{h:()=>l});var i=r(5155),n=r(2139),s=r(2669);class l{static placeContainer(e){let t=document.createElement("div");t.classList.add("fixed","bottom-0","right-0","w-dit","h-fit","max-w-50"),document.body.appendChild(t);let r=(0,s.createRoot)(t);l.container=r,l.containerDiv=t,r.render(e)}static removeContainer(){var e;null==(e=l.container)||e.unmount(),l.containerDiv&&document.body.contains(l.containerDiv)&&document.body.removeChild(l.containerDiv)}static showNotification(e){l.removeContainer(),l.placeContainer(e),setTimeout(()=>{l.removeContainer()},5e3)}static showError(e){l.showNotification((0,i.jsx)(n.A,{variant:"filled",severity:"error",children:e}))}static showSuccess(e){l.showNotification((0,i.jsx)(n.A,{variant:"filled",severity:"success",children:e}))}static showInfo(e){l.showNotification((0,i.jsx)(n.A,{variant:"filled",severity:"info",children:e}))}static showWarning(e){l.showNotification((0,i.jsx)(n.A,{variant:"filled",severity:"warning",children:e}))}}l.container=null,l.containerDiv=null},2717:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(5155);function n(e){return(0,i.jsx)("button",{style:e.style,onClick:e.onClick,className:"bg-main text-white text-base font-medium py-[7px] px-8 cursor-pointer w-fit".concat(e.className?" "+e.className:""),children:e.children})}},5673:(e,t,r)=>{r.d(t,{default:()=>d});var i=r(5155),n=r(2115),s=r(6438);function l(e){let t=e.active?8:6,r=e.active?"main":"light-blue",n=e.active?"border-[2px] border-transparent":"border-0",s=e.active?"24px":"6px";return(0,i.jsx)("div",{className:"w-[".concat(t,"px] h-[").concat(t,"px] bg-").concat(r," rounded cursor-pointer relative ").concat(n," flex justify-center items-center transition-all duration-300 parabola"),children:(0,i.jsx)("div",{onClick:()=>{e.onClick(e.slideNum)},style:{width:s,height:s},className:"absolute rounded-full border-1 border-light-blue transition-all duration-300 parabola"})})}var a=r(6999);let c={src:"/_next/static/media/icon-arrow-left.d0e800d4.svg",height:32,width:32,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/icon-arrow-right.1428710e.svg",height:32,width:32,blurWidth:0,blurHeight:0};function d(e){var t,r;let[d,u]=(0,n.useState)(1),[h,m]=(0,n.useState)(0),x=(0,n.useRef)(null),p=(0,n.useRef)(0);function f(){var t,r;let i=null==(t=document.querySelector(".slider-window-".concat(e.sliderName)))?void 0:t.clientWidth;p.current=Math.ceil((null==(r=document.querySelector(".slider-line-".concat(e.sliderName)))?void 0:r.clientWidth)/i)}function g(e){f(),u(t=>t+e<1?p.current:t+e>p.current?1:t+e)}function v(e){"left"===e?g(1):g(-1)}(0,n.useEffect)(()=>{var t,r,i,n;x.current=document.querySelector(".slider-line-".concat(e.sliderName)),(null==(t=e.options)?void 0:t.customControlsLeft)!==void 0&&(null==(r=e.options)?void 0:r.customControlsRight)!==void 0&&(null==(i=document.querySelector(".".concat(e.options.customControlsLeft)))||i.addEventListener("click",()=>{g(-1)}),null==(n=document.querySelector(".".concat(e.options.customControlsRight)))||n.addEventListener("click",()=>{g(1)})),f()},[]),(0,n.useEffect)(()=>{var t;x.current.style.transform="translateX(calc(-".concat(d-1," * ").concat(null==(t=document.querySelector(".slider-window-".concat(e.sliderName)))?void 0:t.clientWidth,"px))")},[d]),(0,n.useEffect)(()=>{m(p.current)},[p.current]);let w=(0,s.uh)({onSwipedLeft:()=>{v("left")},onSwipedRight:()=>{v("right")},trackTouch:!0});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-fit h-fit flex transition-transform duration-300 parabola ".concat("slider-line-".concat(e.sliderName)),...w,children:e.children}),(0,i.jsxs)("div",{className:"flex gap-6 items-center self-center".concat((null==(t=e.options)?void 0:t.customControlsLeft)!==void 0&&(null==(r=e.options)?void 0:r.customControlsRight)!==void 0?" hidden":""),children:[(0,i.jsx)(a.A,{onClick:()=>{g(-1)},src:c,width:32,height:32}),(0,i.jsx)("div",{className:"flex gap-6 items-center",children:function(){let e=[];for(let t=0;t<h;t++)e.push((0,i.jsx)(l,{onClick:e=>{u(e+1)},slideNum:t,active:t===d-1},t));return e}()}),(0,i.jsx)(a.A,{onClick:()=>{g(1)},src:o,width:32,height:32})]})]})}},6999:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(5155),n=r(5239);function s(e){return(0,i.jsxs)("button",{className:"cursor-pointer flex items-center select-none gap-2".concat(e.className?" "+e.className:""),onClick:e.onClick?function(){e.onClick()}:void 0,children:[(0,i.jsx)(n.default,{width:e.width,height:e.height,src:e.src,alt:e.alt||""}),e.children?(0,i.jsx)("p",{children:e.children}):""]})}},7219:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(5155);function n(e){return(0,i.jsx)("input",{...e.options,readOnly:e.readOnly||!1,onClick:t=>{e.onClick&&e.onClick(t)},onInput:t=>{e.onInput&&e.onInput(t)},maxLength:e.maxLength||void 0,ref:e.ref||void 0,type:e.type||"text",placeholder:e.placeholder||"",className:"w-full h-full outline-0 py-3 px-4 border-1 border-light-gray placeholder:text-gray".concat(e.className?" "+e.className:"")})}},7944:(e,t,r)=>{r.d(t,{default:()=>x});var i=r(5155),n=r(2115),s=r(9646);function l(e){return(0,i.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"cursor-pointer ".concat(e.className," ").concat("left"===e.direction?"":"rotate-180"),children:(0,i.jsx)("path",{d:"M26.665 33.3333L13.3317 19.9999L26.665 6.66659",stroke:"#161C24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function a(){return(0,i.jsxs)("div",{className:"hidden 700:flex gap-10",children:[(0,i.jsx)(l,{className:"popular-products-slider-arrow-left",direction:"left"}),(0,i.jsx)(l,{className:"popular-products-slider-arrow-right",direction:"right"})]})}var c=r(5673);function o(e){return(0,i.jsx)("div",{className:"w-full h-full overflow-hidden flex flex-col gap-[42px] slider-window-".concat(e.sliderName),children:(0,i.jsx)(c.default,{options:e.options,slideWidth:e.slideWidth,sliderName:e.sliderName,children:e.children})})}var d=r(5239),u=r(2619),h=r.n(u);function m(e){return(0,i.jsx)("div",{className:"h-[426px] grid grid-rows-[426px] grid-flow-col      1230:auto-cols-[calc((100vw-var(--scrollbar-width)-200px)/4)]      990:auto-cols-[calc((100vw-var(--scrollbar-width)-200px)/3)]      700:auto-cols-[calc((100vw-var(--scrollbar-width)-32px)/2)]      auto-cols-[calc((100vw-var(--scrollbar-width)-32px))]     ",children:e.products.map(e=>{var t,r;return(0,i.jsxs)(h(),{href:"/catalog/".concat(e.category,"/").concat(e._id),className:"w-full h-full grid grid-rows-[1fr_auto] relative px-[15px]",children:[(0,i.jsx)(d.default,{src:"/api/cdn/".concat(e.poster),alt:"poster",height:320,width:288,style:{width:"auto",height:"320px",aspectRatio:"288/320"},className:"object-contain",unoptimized:!0}),(0,i.jsxs)("div",{className:"py-[10px] px-3 flex flex-col gap-[10px]",children:[(0,i.jsx)("p",{className:"max-w-full leading-[26px]",children:e.name}),(0,i.jsx)("div",{className:"flex items-center gap-3",children:(t=e.price,0!==(r=e.discount)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"text-xl font-semibold",children:[t-r/100*t,"₽"]}),(0,i.jsxs)("p",{className:"text-lg font-light line-through",children:[t,"₽"]})]}):(0,i.jsxs)("p",{className:"text-xl font-semibold",children:[t,"₽"]}))})]})]},e._id)})})}function x(){let[e,t]=(0,n.useState)([]);async function r(e){if(0===e.length)return void t([]);let r=e.join(",");t(await fetch("/api/proxy/products?ids=".concat(r)).then(e=>e.json()))}return(0,n.useEffect)(()=>{r(JSON.parse(s.t.db("recently_viewed").find("ids")||"[]"))},[]),0===e.length?null:(0,i.jsxs)("div",{className:"mt-25 w-full px-4 990:px-[100px] flex flex-col gap-16",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h2",{className:"text-[22px] 990:text-[44px] font-semibold leading-[34px] 990:leading-[62px]",children:"Вы недавно посмотрели"}),(0,i.jsx)(a,{})]}),(0,i.jsx)(o,{options:{customControlsLeft:"popular-products-slider-arrow-left",customControlsRight:"popular-products-slider-arrow-right"},sliderName:"popular",slideWidth:"(100dvw - var(--scrollbar-width) - 200px)",children:(0,i.jsx)(m,{products:e})})]})}},8067:(e,t,r)=>{async function i(e){return fetch(e,{method:"GET",cache:"force-cache",next:{revalidate:3600}})}r.d(t,{_U:()=>s,rj:()=>n,t_:()=>i});class n{static isValidRating(e){return"number"==typeof e&&!(e<=0||e>5)}static isValidPhone(e){if("string"!=typeof e)return!1;let t=e.replace(/\D/g,"");return!(t.length<10)&&!(t.length>11)&&/^\d+$/.test(t)}static isRussianText(e){return"string"==typeof e&&/^[а-яёА-ЯЁ\s]*$/.test(e)}static isValidEmail(e){if("string"!=typeof e||!e.includes("@"))return!1;let[t,r]=e.split("@");if(t.length<3||!r.includes("."))return!1;let i=r.split(".").at(-1);return!!i&&!(i.length<2)}static isInLengthRange(e,t,r){if("string"!=typeof e)return!1;let i=e.length;return i>=t&&i<=r}static minmax(e,t,r){let i=parseFloat(e);return!isNaN(i)&&i>=t&&i<=r}}function s(e){let t=new Date(e),r=t.getUTCDate(),i=["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"][t.getUTCMonth()],n=t.getUTCFullYear();return"".concat(r<10?"0".concat(r):"".concat(r)," ").concat(i,", ").concat(n)}},8987:(e,t,r)=>{r.d(t,{default:()=>u});var i=r(5155),n=r(63);let s={"":{name:"Главная",href:"/"},catalog:{name:"Каталог",href:"/catalog"}};var l=r(2619),a=r.n(l),c=r(2115),o=r(6999);let d={src:"/_next/static/media/icon-home.5ca91f44.svg",height:20,width:20,blurWidth:0,blurHeight:0};function u(e){let t=(0,n.usePathname)(),r=t.split("/").filter(e=>void 0!==s[e]).map(e=>s[e]);return e.targetRoutes&&(r=[...r,...e.targetRoutes]),"/"===t?"":(0,i.jsx)("div",{className:"mt-5 mb-10 px-4 550:px-[100px] flex gap-1 flex-wrap items-center".concat(e.className?" "+e.className:""),children:r.map((e,t)=>void 0===e?null:t+1!==r.length?"/"===e.href?(0,i.jsxs)(c.Fragment,{children:[(0,i.jsxs)(a(),{href:e.href,className:"leading-[26px] font-normal",children:[(0,i.jsx)("p",{className:"hidden 550:block",children:e.name}),(0,i.jsx)(o.A,{className:"550:hidden",width:20,height:20,src:d,alt:"icon-home"})]}),(0,i.jsx)("p",{className:"leading-[26px] font-normal",children:"/"})]},e.name):(0,i.jsxs)(c.Fragment,{children:[(0,i.jsx)(a(),{href:e.href,className:"leading-[26px] font-normal",children:e.name}),(0,i.jsx)("p",{className:"leading-[26px] font-normal",children:"/"})]},e.name):(0,i.jsx)("p",{className:"leading-[26px] font-normal text-gray",children:e.name},e.name))})}},9646:(e,t,r)=>{r.d(t,{t:()=>n});class i{tryParse(){try{if(!this.isClient())return{};let e=window.localStorage.getItem(this.db);return e?JSON.parse(e):{}}catch(e){return{}}}saveValue(e){if(!this.isClient())return{status:!1,error:"Not Client"};try{return window.localStorage.setItem(this.db,JSON.stringify(e)),{status:!0}}catch(e){return{status:!1,error:e}}}isClient(){return!0}find(e){return this.tryParse()[e]}change(e,t){let r=this.tryParse();return r[e]=t,this.saveValue(r)}delete(e){let t=this.tryParse();return delete t[e],this.saveValue(t)}constructor(e){this.db=e}}class n{static db(e){return new i(e)}}}}]);