(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1150:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let s=i(5155),l=i(2115),a=i(4437);function n(e){return{default:e&&"default"in e?e.default:e}}i(6552);let r={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},c=function(e){let t={...r,...e},i=(0,l.lazy)(()=>t.loader().then(n)),c=t.loading;function o(e){let n=c?(0,s.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,r=!t.ssr||!!t.loading,o=r?l.Suspense:l.Fragment,d=t.ssr?(0,s.jsxs)(s.Fragment,{children:[null,(0,s.jsx)(i,{...e})]}):(0,s.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(i,{...e})});return(0,s.jsx)(o,{...r?{fallback:n}:{},children:d})}return o.displayName="LoadableComponent",o}},2688:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});let s={src:"/_next/static/media/icon-vk.b7dfed1d.svg",height:26,width:26,blurWidth:0,blurHeight:0}},2717:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var s=i(5155);function l(e){return(0,s.jsx)("button",{style:e.style,onClick:e.onClick,className:"bg-main text-white text-base font-medium py-[7px] px-8 cursor-pointer w-fit".concat(e.className?" "+e.className:""),children:e.children})}},2993:e=>{e.exports={style:{fontFamily:"'SFProDisplay', 'SFProDisplay Fallback'"},className:"__className_2f7e36",variable:"__variable_2f7e36"}},3076:(e,t,i)=>{"use strict";i.d(t,{default:()=>c});var s=i(5155),l=i(2115),a=i(6999);let n={src:"/_next/static/media/icon-favorite.1a0fe2a8.svg",height:32,width:32,blurWidth:0,blurHeight:0};var r=i(9646);function c(){let[e,t]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=r.t.db("favorites").find("ids");void 0!==e&&t(e.length)},[]),(0,s.jsxs)("div",{className:"w-fit h-fit relative",children:[(0,s.jsx)(a.A,{src:n,alt:"IconFavorite",width:32,height:32}),(0,s.jsx)("div",{style:{display:0===e?"none":"flex"},className:"w-[18px] h-[18px] rounded-full border-1 border-white bg-main flex items-center justify-center text-xs text-white absolute right-0 top-0 cursor-pointer",children:e})]})}},3218:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,2619,23)),Promise.resolve().then(i.t.bind(i,1356,23)),Promise.resolve().then(i.t.bind(i,2993,23)),Promise.resolve().then(i.t.bind(i,3673,23)),Promise.resolve().then(i.bind(i,8434)),Promise.resolve().then(i.bind(i,5453)),Promise.resolve().then(i.bind(i,2688)),Promise.resolve().then(i.bind(i,9193)),Promise.resolve().then(i.bind(i,9006)),Promise.resolve().then(i.bind(i,3423)),Promise.resolve().then(i.bind(i,3076)),Promise.resolve().then(i.bind(i,4925)),Promise.resolve().then(i.bind(i,7757)),Promise.resolve().then(i.bind(i,8024))},3423:(e,t,i)=>{"use strict";i.d(t,{default:()=>m});var s=i(5155),l=i(2115),a=i(6999);let n={src:"/_next/static/media/icon-burger.43eceeb9.svg",height:24,width:24,blurWidth:0,blurHeight:0},r={src:"/_next/static/media/icon-close.7aaa975b.svg",height:24,width:24,blurWidth:0,blurHeight:0};var c=i(4863),o=i(8024),d=i(5239),u=i(2619),h=i.n(u);function x(e){return(0,s.jsx)("div",{className:"w-[100dvw] h-[100dvh] grid fixed transition-all duration-500 linear top-0 bg-white ".concat(e.active?"left-0":"left-[-100dvw]"),children:(0,s.jsxs)("div",{className:"overflow-auto flex flex-col",children:[(0,s.jsxs)("div",{className:"w-full h-fit flex justify-center items-center relative py-5 border-b-1 border-light-gray",onClick:()=>{e.onClose()},children:[(0,s.jsx)("p",{className:"text-xl font-medium absolute left-4 select-none",children:"<"}),(0,s.jsx)("p",{className:"text-2xl font-medium",children:"Каталог"})]}),(0,s.jsx)("div",{className:"w-full h-fit py-6 px-4 grid grid-cols-2 auto-rows-[200px] gap-y-6 gap-x-5",children:e.categories.map(t=>(0,s.jsxs)(h(),{onClick:()=>{e.onNavigate()},href:"/catalog/".concat(t._id),className:"w-full h-full flex flex-col gap-3 relative items-center",children:[(0,s.jsx)(d.default,{src:"/api/cdn/categories/".concat(t.img),alt:t.name,style:{height:"161px",width:"auto"},width:161,height:161}),(0,s.jsx)("p",{className:"max-w-full font-medium text-sm",children:t.name})]},t._id))})]})})}function f(e){let[t,i]=(0,l.useState)(!1);return(0,s.jsxs)("div",{className:"bg-white flex flex-col py-6 px-4 justify-between w-screen h-[calc(100dvh-70px)] fixed transition-all transition-750 ease-in z-[49] left-0 ".concat(e.opened?"top-[71px]":"top-[-100vh]"),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)(c.A,{onClick:e.onNavigate,href:"/",children:"Главная"}),(0,s.jsxs)("p",{className:"cursor-pointer hover:text-main focus:text-main flex justify-between",onClick:()=>{i(e=>!e)},children:["Каталог ",(0,s.jsx)("span",{className:"text-xl",children:">"})]}),(0,s.jsx)(c.A,{onClick:e.onNavigate,href:"/bulk",children:"Оптовая продажа"}),(0,s.jsx)(c.A,{onClick:e.onNavigate,href:"/about",children:"О нас"})]}),(0,s.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,s.jsx)(o.default,{children:"+7 (966) 55 88 499"}),(0,s.jsx)("p",{className:"text-main",children:"Обратный звонок"})]}),(0,s.jsx)(x,{active:t,categories:e.categories,onNavigate:function(){i(!1),e.onNavigate()},onClose:()=>{i(!1)}})]})}function m(e){let[t,i]=(0,l.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.A,{onClick:()=>{i(e=>!e)},className:"".concat(t?"hidden":"block"," 700:hidden"),width:24,height:24,src:n}),(0,s.jsx)(a.A,{onClick:()=>{i(e=>!e)},className:"".concat(t?"block":"hidden"," 700:hidden"),width:24,height:24,src:r}),(0,s.jsx)(f,{onNavigate:function(){i(!1)},opened:t,categories:e.categories})]})}},3673:()=>{},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{bindSnapshot:function(){return n},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return r}});let i=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class s{disable(){throw i}getStore(){}run(){throw i}exit(){throw i}enterWith(){throw i}static bind(e){return e}}let l="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return l?new l:new s}function n(e){return l?l.bind(e):s.bind(e)}function r(){return l?l.snapshot():function(e,...t){return e(...t)}}},4437:(e,t,i)=>{"use strict";function s(e){let{reason:t,children:i}=e;return i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}}),i(4553)},4682:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var s=i(2115);let l=e=>{let t,i=new Set,s=(e,s)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=s?s:"object"!=typeof l||null===l)?l:Object.assign({},t,l),i.forEach(i=>i(t,e))}},l=()=>t,a={setState:s,getState:l,getInitialState:()=>n,subscribe:e=>(i.add(e),()=>i.delete(e))},n=t=e(s,l,a);return a},a=e=>{let t=(e=>e?l(e):l)(e),i=e=>(function(e,t=e=>e){let i=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(i),i})(t,e);return Object.assign(i,t),i};var n=i(9646);function r(e){n.t.db("cart").change("cart",e)}function c(e,t){let i;for(let s=0;s<e.length;s++)if(e[s].pid===t.pid&&e[s].color===t.color){i=s;break}return i}let o=(e=>e?a(e):a)(e=>({cart:n.t.db("cart").find("cart")||[],push:t=>e(e=>{let i,s=c(e.cart,t);return r(i=void 0!==s?e.cart.map((e,t)=>t===s?{...e,quantity:e.quantity+1}:e):[...e.cart,{...t,quantity:1}]),{cart:i}}),pull:t=>e(e=>{let i=c(e.cart,t);if(void 0===i)return e;let s=e.cart.map((e,t)=>i===t?{...e,quantity:e.quantity-1}:e).filter(e=>e.quantity>0);return r(s),{cart:s}}),remove:t=>e(e=>{let i=e.cart.filter(e=>e.pid!==t.pid&&e.color!==t.color);return r(i),{cart:i}})}))},4863:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var s=i(5155),l=i(2619),a=i.n(l);function n(e){return(0,s.jsx)(a(),{onClick:()=>{e.onClick&&e.onClick()},href:e.href,className:"text-base 930:text-xl hover:text-main".concat(e.className?" "+e.className:""),children:e.children})}},4925:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});let s={src:"/_next/static/media/logo-white.c2327ac0.svg",height:88,width:106,blurWidth:0,blurHeight:0}},5453:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});let s={src:"/_next/static/media/icon-twitter.d674ce5c.svg",height:26,width:26,blurWidth:0,blurHeight:0}},6278:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=i(8140)._(i(1150));function l(e,t){var i;let l={};"function"==typeof e&&(l.loader=e);let a={...l,...t};return(0,s.default)({...a,modules:null==(i=a.loadableGenerated)?void 0:i.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6552:(e,t,i)=>{"use strict";function s(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return s}}),i(5155),i(7650),i(8567),i(7278)},6999:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var s=i(5155),l=i(5239);function a(e){return(0,s.jsxs)("button",{className:"cursor-pointer flex items-center select-none gap-2".concat(e.className?" "+e.className:""),onClick:e.onClick?function(){e.onClick()}:void 0,children:[(0,s.jsx)(l.default,{width:e.width,height:e.height,src:e.src,alt:e.alt||""}),e.children?(0,s.jsx)("p",{children:e.children}):""]})}},7757:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});let s={src:"/_next/static/media/logo.f4699d30.svg",height:42,width:51,blurWidth:0,blurHeight:0}},7828:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return s}});let s=(0,i(4054).createAsyncLocalStorage)()},7909:(e,t,i)=>{"use strict";i.d(t,{default:()=>l.a});var s=i(6278),l=i.n(s)},8009:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var s=i(5155),l=i(2717),a=i(2619),n=i.n(a);function r(e){return(0,s.jsx)(n(),{href:e.href,className:"w-fit h-fit".concat(e.linkClassName?" "+e.linkClassName:""),children:(0,s.jsx)(l.A,{onClick:e.onClick,className:e.buttonClassName,children:e.children})})}},8024:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var s=i(5155),l=i(6999);let a={src:"/_next/static/media/icon-phone.05316a95.svg",height:20,width:20,blurWidth:0,blurHeight:0};async function n(e){try{await navigator.clipboard.writeText(e)}catch(t){window.location.href="tel:".concat(e.replace(/\s/g,""))}}function r(e){return(0,s.jsx)(l.A,{className:"".concat(e.className?" "+e.className:"","text-sm 930:text-base"),width:20,height:20,src:a,onClick:()=>{n(e.children)},children:e.children})}},8434:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});let s={src:"/_next/static/media/icon-facebook.9b618fa2.svg",height:26,width:26,blurWidth:0,blurHeight:0}},8567:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return s.workAsyncStorageInstance}});let s=i(7828)},9006:(e,t,i)=>{"use strict";i.d(t,{default:()=>y});var s=i(5155),l=i(6999);let a={src:"/_next/static/media/icon-cart.0ff382da.svg",height:32,width:32,blurWidth:0,blurHeight:0};var n=i(5239),r=i(6397),c=i(2717);let o={src:"/_next/static/media/icon-close.90648255.svg",height:20,width:20,blurWidth:0,blurHeight:0},d={src:"/_next/static/media/icon-delete.95aaf77e.svg",height:24,width:24,blurWidth:0,blurHeight:0};function u(e){return(0,s.jsx)("svg",{onClick:()=>{e.onClick()},className:e.active?"cursor-pointer":"cursor-not-allowed",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M13.3327 8H2.66602",stroke:e.active?"#181818":"C4CDD5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function h(e){return(0,s.jsx)("svg",{onClick:()=>{e.onClick()},className:e.active?"cursor-pointer":"cursor-not-allowed",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M7.99935 7.99999H2.66602M7.99935 13.3333V7.99999V13.3333ZM7.99935 7.99999V2.66666V7.99999ZM7.99935 7.99999H13.3327H7.99935Z",stroke:e.active?"#181818":"C4CDD5",strokeLinecap:"round",strokeLinejoin:"round"})})}let x={src:"/_next/static/media/icon-add.cb7dcb35.svg",height:24,width:24,blurWidth:0,blurHeight:0};var f=i(4682),m=i(2115),p=i(7909),g=i(2619),b=i.n(g),v=i(8009);function j(e){var t,i;let{push:a,pull:r,remove:c}=(0,f.J)();return(0,s.jsxs)("div",{className:"mt-4 w-fit max-w-full h-[120px] grid grid-cols-[auto_1fr_auto] 700:grid-cols-[140px_1fr_100px] grid-rows-1 gap-x-2 700:gap-x-3",children:[(null==(t=e.productData)?void 0:t.poster)?(0,s.jsx)(n.default,{src:"/api/cdn/".concat(e.productData.poster),className:"object-contain object-center w-[70px] 700:w-[136px]",alt:"product-image",width:136,height:120,style:{aspectRatio:"136/120"}}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{})}),(0,s.jsxs)("div",{className:"w-full h-full flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"text-xs 700:text-base font-normal leading-[18px] 700:leading-[26px]",children:null==(i=e.productData)?void 0:i.name}),(0,s.jsxs)("p",{className:"text-xs 700:text-sm font-normal leading-[20px] 700:leading-6",children:["+ Подарок: ",(0,s.jsx)("span",{className:"text-main",children:"“Приложение к замкам Golden Service”"})]})]}),(0,s.jsxs)("div",{className:"w-fit h-8 grid grid-cols-[16px_60px_16px] gap-x-2 items-center",children:[(0,s.jsx)(u,{onClick:()=>{r({pid:e.cartItem.pid,color:e.cartItem.color})},active:!0}),(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-xs 700:text-sm font-medium leading-[20px] 700:leading-6 select-none",children:e.cartItem.quantity})}),(0,s.jsx)(h,{onClick:()=>{a({pid:e.cartItem.pid,color:e.cartItem.color})},active:!0})]})]}),(0,s.jsxs)("div",{className:"w-full h-full flex flex-col justify-between items-end",children:[(0,s.jsx)(l.A,{onClick:()=>{c({pid:e.cartItem.pid,color:e.cartItem.color})},src:d,alt:"icon-delete",width:24,height:24,className:"text-main",children:(0,s.jsx)("span",{className:"hidden 700:block",children:"Удалить"})}),(0,s.jsxs)("p",{className:"text-sm 700:text-base font-normal leading-6 700:leading-[26px] select-none",children:[e.productData?0===e.productData.discount?e.productData.price:e.productData.price-e.productData.price*(e.productData.discount/100):0," ₽"]})]})]})}function w(e){let{cart:t,push:i}=(0,f.J)(),[a,d]=(0,m.useState)(),[u,h]=(0,m.useState)([]);async function p(e){if(0===e.length)return void d({});let t=await fetch("/api/proxy/products?ids=".concat(e.join(","))).then(e=>e.json()),i={};for(let e=0;e<t.length;e++){let s=t[e]._id;delete t[e]._id,i[s]=t[e]}d(i)}async function g(e){let t=Array.from(new Set((await Promise.all(e.map(async e=>{let t=await fetch("/api/proxy/products/".concat(e,"/associations"));return await t.json()}))).flatMap(e=>Object.keys(e.associations).map(t=>({[t]:e.associations[t]}))))).sort((e,t)=>{let i=Object.values(e)[0],s=Object.values(t)[0];return i===s?0:i>s?1:-1}),i=(t.length>=3?t.splice(0,3):[]).map(e=>Object.keys(e)[0]);h(0!==i.length?await fetch("/api/proxy/products?ids=".concat(i.join(","))).then(e=>e.json()):[])}return(0,m.useEffect)(()=>{let e=t.map(e=>e.pid);p(e),g(e)},[t]),(0,s.jsx)("div",{className:"w-screenSmart h-[100dvh] fixed left-0 top-0 z-[9999] bg-[rgba(69,78,90,0.6)] items-center justify-center",style:{display:e.active?"flex":"none"},children:(0,s.jsxs)("div",{className:"w-full max-w-full mx-4 px-4 700:w-210 h-[90%] bg-white py-4 flex flex-col gap-6 overflow-auto ",children:[(0,s.jsxs)("div",{className:"w-full h-fit flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-base 700:text-xl font-medium leading-[26px] 700:leading-[34px]",children:"Корзина"}),(0,s.jsx)(l.A,{onClick:()=>{e.onClose()},src:o,alt:"icon-close",className:"font-medium text-base leading-[26px]",width:20,height:20})]}),Array.isArray(t)&&t.length>0?(0,s.jsxs)(s.Fragment,{children:[t.map((e,t)=>(0,s.jsx)(j,{cartItem:e,productData:a?a[e.pid]:null},"cart-item-".concat(t))),(0,s.jsxs)("div",{className:"mt-2 w-full flex flex-col 700:flex-row justify-between items-start 700:items-end gap-2 700:gap-0",children:[(0,s.jsxs)("div",{className:"w-full 700:w-fit flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center 700:items-end",children:[(0,s.jsx)("p",{className:"text-xs 700:text-base font-normal leading-5 700:leading-[26px]",children:"Итого:"}),(0,s.jsxs)("p",{className:"text-base 700:text-xl font-medium leading-[26px] 700:leading-[30px]",children:[a&&0!==Object.keys(a).length?t.reduce((e,t)=>{let i=a[t.pid];if(!i)return e+0;let s=0===i.discount?i.price:i.price-i.price*(i.discount/100);return e+t.quantity*s},0):0," ₽"]})]}),(0,s.jsx)(v.A,{onClick:()=>{e.onClose()},href:"/order",buttonClassName:"py-[9px]! px-8! w-full! 700:w-fit!",children:"Оформить заказ"})]}),(0,s.jsx)("div",{className:"w-full 700:w-fit h-fit",children:(0,s.jsx)(c.A,{onClick:()=>{e.onClose()},className:"bg-white border-1 border-light-blue py-[9px]! px-6! text-black! w-full! 700:w-fit!",children:"Продолжить покупки"})})]}),0!==u.length?(0,s.jsxs)("div",{className:"w-full h-[376px] pt-6 flex flex-col gap-4",children:[(0,s.jsx)("h3",{className:"text-base 700:text-xl font-medium leading-[26px] 700:leading-[34px]",children:"С этим покупают"}),(0,s.jsx)("div",{className:"w-full max-h-[302px] h-full flex flex-col gap-4",children:u.map(t=>(0,s.jsxs)("div",{className:"w-full h-[90px] grid grid-cols-[auto_1fr_auto] 700:grid-cols-[102px_1fr_107px] grid-rows-1 gap-x-4",children:[(0,s.jsx)(n.default,{src:"/api/cdn/".concat(t.poster),alt:"association-poster",width:102,height:90,style:{aspectRatio:"102/90"},className:"object-contain object-center w-[70px] 700:w-[102px]"}),(0,s.jsxs)("div",{className:"w-full h-full flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col gap-[5px]",children:[(0,s.jsx)("p",{className:"text-xs 700:text-sm font-normal leading-[18px] 700:leading-6",children:t.name}),(0,s.jsxs)("div",{className:"flex gap-1 700:gap-2",children:[(0,s.jsx)(r.A,{defaultValue:0!==t.rates?t.rating/t.rates:0,precision:.5,readOnly:!0}),(0,s.jsxs)("p",{className:"text-xs 700:text-[13px] font-normal leading-4 700:leading-[21px] text-gray",children:["(",t.reviewsCount,") отзывов"]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:0===t.discount?(0,s.jsxs)("p",{className:"text-xs 700:text-sm font-normal leading-5 700:leading-6",children:[t.price,"₽"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-xs 700:text-sm font-normal leading-5 700:leading-6",children:[t.price-t.price*(t.discount/100),"₽"]}),(0,s.jsxs)("p",{className:"text-[10px] 700:text-xs font-normal leading-5 text-gray line-through",children:[t.price,"₽"]})]})})]}),(0,s.jsx)(b(),{onClick:()=>{e.onClose()},href:"/catalog/".concat(t.category,"/").concat(t._id),children:(0,s.jsx)(l.A,{src:x,alt:"icon-add",width:24,height:24,className:"text-main font-medium leading-[26px] h-fit!",children:(0,s.jsx)("span",{className:"hidden 700:block",children:"Добавить"})})})]},t._id))})]}):null]}):"Ваша корзина пуста"]})})}let N=(0,p.default)(()=>Promise.resolve(w),{ssr:!1});function y(){let[e,t]=(0,m.useState)(!1),[i,n]=(0,m.useState)(0),{cart:r}=(0,f.J)();return(0,m.useEffect)(()=>{n(r.length)},[r]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{onClick:()=>{t(!0)},className:"w-8 h-8 relative",children:[(0,s.jsx)(l.A,{src:a,alt:"IconCart",width:32,height:32}),(0,s.jsx)("div",{style:{display:0===i?"none":"flex"},className:"w-[18px] h-[18px] rounded-full border-1 border-white bg-main flex items-center justify-center text-xs text-white absolute right-0 top-0 cursor-pointer",children:i})]}),(0,s.jsx)(N,{onClose:()=>{t(!1)},active:e})]})}},9193:(e,t,i)=>{"use strict";i.d(t,{default:()=>h});var s=i(5155),l=i(2619),a=i.n(l),n=i(5239),r=i(2115),c=i(8009);function o(e){let[t,i]=(0,r.useState)("");return(0,s.jsx)("div",{className:"absolute top-6 left-0 h-fit overflow-hidden z-1",children:(0,s.jsx)("div",{className:"grid transition-all duration-500 parabola ".concat(e.active?"grid-rows-[800px]":"grid-rows-[0px]"),children:(0,s.jsxs)("div",{className:"p-8 flex items-center gap-8 w-auto h-fit bg-white rounded-sm",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-[343px] overflow-hidden",children:[e.categories.map(t=>(0,s.jsx)(a(),{onClick:()=>{e.onClose()},onMouseLeave:()=>{i("")},onMouseEnter:()=>{i(t._id)},className:"w-fit text-base hover:text-main border-b-1 border-[rgba(0,0,0,0)] hover:border-main",href:"/catalog/".concat(t._id),children:t.name},t._id)),(0,s.jsx)(c.A,{onClick:()=>{e.onClose()},href:"/catalog",children:"Смотреть все"})]}),(0,s.jsx)("div",{className:"w-[350px] h-[300px] relative",children:e.categories.map(e=>(0,s.jsx)(n.default,{className:"".concat(t===e._id?"block":"hidden"," h-auto w-[350px]"),sizes:"(max-width: 350px)",src:"/api/cdn/categories/".concat(e.img),alt:e.name,fill:!0},e._id))})]})})})}var d=i(4863);let u={desktop:"flex items-center gap-4 930:gap-8",mobile:"flex flex-col gap-4"};function h(e){let[t,i]=(0,r.useState)(!1),l=(0,r.useCallback)(e=>{},[]);function a(){i(e=>(e?document.removeEventListener("click",l):document.addEventListener("click",l),!e))}return(0,s.jsxs)("nav",{className:u[e.mode],children:[(0,s.jsx)(d.A,{href:"/",children:"Главная"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:a,className:"flex items-center gap-2 cursor-pointer text-base 930:text-xl hover:text-main",children:["Каталог ",(0,s.jsx)("span",{className:"text-sm align-middle select-none transition-all duration-250 linear ".concat(t?"rotate-180":"rotate-0"),children:"v"})]}),(0,s.jsx)(o,{onClose:()=>{a()},active:t,categories:e.categories})]}),(0,s.jsx)(d.A,{href:"/bulk",children:"Оптовая продажа"}),(0,s.jsx)(d.A,{href:"/about",children:"О нас"})]})}},9646:(e,t,i)=>{"use strict";i.d(t,{t:()=>l});class s{tryParse(){try{if(!this.isClient())return{};let e=window.localStorage.getItem(this.db);return e?JSON.parse(e):{}}catch(e){return{}}}saveValue(e){if(!this.isClient())return{status:!1,error:"Not Client"};try{return window.localStorage.setItem(this.db,JSON.stringify(e)),{status:!0}}catch(e){return{status:!1,error:e}}}isClient(){return!0}find(e){return this.tryParse()[e]}change(e,t){let i=this.tryParse();return i[e]=t,this.saveValue(i)}delete(e){let t=this.tryParse();return delete t[e],this.saveValue(t)}constructor(e){this.db=e}}class l{static db(e){return new s(e)}}}},e=>{e.O(0,[532,356,481,276,397,441,255,358],()=>e(e.s=3218)),_N_E=e.O()}]);