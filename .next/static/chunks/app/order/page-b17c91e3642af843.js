(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{63:(e,t,l)=>{"use strict";var n=l(7260);l.o(n,"usePathname")&&l.d(t,{usePathname:function(){return n.usePathname}}),l.o(n,"useRouter")&&l.d(t,{useRouter:function(){return n.useRouter}}),l.o(n,"useSearchParams")&&l.d(t,{useSearchParams:function(){return n.useSearchParams}})},216:(e,t,l)=>{"use strict";l.d(t,{default:()=>y});var n=l(5155);function a(e){return(0,n.jsx)("div",{className:"mt-10 px-25 flex gap-[54px] items-end".concat(e.className?" "+e.className:""),children:e.children})}var r=l(7219),s=l(8336);function i(e){return(0,n.jsx)("svg",{onClick:()=>{e.onClick()},className:e.active?"cursor-pointer":"cursor-not-allowed",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M7.99935 7.99999H2.66602M7.99935 13.3333V7.99999V13.3333ZM7.99935 7.99999V2.66666V7.99999ZM7.99935 7.99999H13.3327H7.99935Z",stroke:e.active?"#181818":"C4CDD5",strokeLinecap:"round",strokeLinejoin:"round"})})}function c(e){return(0,n.jsx)("svg",{onClick:()=>{e.onClick()},className:e.active?"cursor-pointer":"cursor-not-allowed",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M13.3327 8H2.66602",stroke:e.active?"#181818":"C4CDD5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}var o=l(2717),d=l(2115),u=l(5239);let x={src:"/_next/static/media/icon-close.975afa02.svg",height:16,width:16,blurWidth:0,blurHeight:0};var f=l(4682),p=l(2615),h=l(8067),m=l(7909),g=l(63);function v(e){var t;let{push:l,pull:a}=(0,f.J)();return(0,n.jsxs)("div",{className:"w-full h-[70px] 550:h-[130px] grid grid-cols-[70px_1fr_16px] 550:grid-cols-[136px_1fr_16px] gap-x-2",children:[e.productData?(0,n.jsx)(u.default,{src:"/api/cdn/".concat(e.productData.poster),alt:"product-image",className:"object-contain object-center w-full h-full",style:{aspectRatio:"136/120"},width:136,height:120}):(0,n.jsx)("div",{}),(0,n.jsxs)("div",{className:"w-full h-full flex flex-col justify-between",children:[(0,n.jsxs)("div",{className:"w-full flex flex-col gap-[6px]",children:[(0,n.jsx)("p",{className:"text-xs 550:text-sm font-normal leading-6",children:null==(t=e.productData)?void 0:t.name}),(0,n.jsxs)("p",{className:"text-xs font-normal leading-5 hidden 550:inline",children:["+ Подарок:",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-sm font-normal leading-5 text-main",children:"“Приложение к замкам Golden Service”"})]})]}),(0,n.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c,{active:!0,onClick:()=>{a(e.cartItem)}}),(0,n.jsx)("p",{className:"w-[40px] 550:w-[60px] h-[23px] 550:h-8 flex items-center justify-center",children:e.cartItem.quantity}),(0,n.jsx)(i,{active:!0,onClick:()=>{l(e.cartItem)}})]}),(0,n.jsx)("div",{className:"flex items-center gap-1",children:function(){var t,l,a;let r=(null==(t=e.productData)?void 0:t.price)||0,s=(null==(l=e.productData)?void 0:l.discount)||0;return(null==(a=e.productData)?void 0:a.discount)===0?(0,n.jsxs)("p",{className:"text-xs 700:text-sm font-normal leading-5 700:leading-6",children:[r,"₽"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"text-xs 700:text-sm font-normal leading-5 700:leading-6",children:[r-s/100*r,"₽"]}),(0,n.jsxs)("p",{className:"text-[10px] 700:text-xs font-normal leading-5 text-gray line-through",children:[r,"₽"]})]})}()})]})]}),(0,n.jsx)("div",{className:"cursor-pointer h-fit",children:(0,n.jsx)(u.default,{src:x,width:16,height:16,style:{aspectRatio:"1/1"},alt:"icon-close"})})]})}function j(){let[e,t]=(0,d.useState)(!1),[l,i]=(0,d.useState)({}),[c,u]=(0,d.useState)([]),[x,m]=(0,d.useState)(!1),[j,y]=(0,d.useState)([]),N=(0,d.useRef)(void 0),w=(0,d.useRef)(null),b=(0,d.useRef)(null),k=(0,d.useRef)(null),C=(0,g.useRouter)(),{cart:A,remove:_}=(0,f.J)();function S(e,t){clearTimeout(N.current);let n=e.target.value,a=l.contacts||{};a[t]=n,N.current=setTimeout(()=>{i({...l,contacts:{...a}})},150)}function O(e){i({...l,delivery:e})}async function P(e,t){let n=l.delivery;if(void 0===n||!["sdek","post","delline"].includes(n))return void p.h.showError("Пожалуйста, выберите службу доставки");u(await (0,h.t_)("/api/proxy/delivery/".concat(e,"/").concat(n).concat(t?"?query=".concat(t):"")).then(e=>e.json()))}function I(e){var t;let l=null==(t=w.current)?void 0:t.value;if(void 0===l||""===l){e.target.value="",w.current.focus(),m(!1),p.h.showError("Пожалуйста, введите сперва город");return}clearTimeout(N.current),N.current=setTimeout(()=>{P(l,e.target.value)},250)}async function R(e){if(0===e.length)return void y([]);let t=j.map(e=>e._id);e.sort().toString()!==t.sort().toString()&&y(await fetch("/api/proxy/products?ids=".concat(e.join(","))).then(e=>e.json()))}function E(e){var t;let n=null==(t=l.extras)?void 0:t.indexOf(e),a=l.extras||[];-1===n||void 0===n?i({...l,extras:[...a,e]}):(a.splice(n,1),i({...l,extras:a}))}async function D(){if(void 0!==l.promocode)return;let e=k.current.value,{status:t}=await fetch("/api/proxy/promocodes/".concat(e)).then(e=>e.json());t?(p.h.showSuccess("Промокод активирован"),i({...l,promocode:e})):p.h.showError("Промокод не найден")}let T=(0,d.useCallback)(()=>{let e=l.contacts;return void 0!==e&&!!h.rj.isInLengthRange(e.name,2,64)&&!!h.rj.isRussianText(e.name)&&!!h.rj.isInLengthRange(e.surname,2,64)&&!!h.rj.isRussianText(e.surname)&&!!h.rj.isValidPhone(e.phone)&&!!h.rj.isValidEmail(e.email)&&void 0!==l.delivery&&!!["sdek","post","delline"].includes(l.delivery)&&void 0!==l.postOffice&&""!==l.postOffice&&void 0!==l.payment&&!!["card","pickup"].includes(l.payment)&&!0},[l]);async function L(e){if(!e)return void p.h.showError("Проверьте корректность введенных данных");let t=A.map(e=>{let{color:t,...l}=e;return l}),n={...l,products:t};n.contacts.phone.startsWith("+7")||(n.contacts.phone=n.contacts.phone.replace(/^8/,"+7")),n.postOffice="".concat(w.current.value," ").concat(n.postOffice);let{status:a,message:r}=await fetch("/api/proxy/orders/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>e.json());a?p.h.showSuccess("Заказ успешно создан"):p.h.showError("Что-то пошло не так: "+r),A.forEach(e=>{_(e)}),C.push("/")}return(0,d.useEffect)(()=>{R(A.map(e=>e.pid))},[A]),(0,n.jsxs)("div",{className:"w-full mt-10 flex flex-col gap-6",children:[(0,n.jsx)(a,{className:"text-[22px] 750:text-[44px] font-semibold px-4! 750:px-25!",children:"Оформление заказа"}),(0,n.jsxs)("div",{className:"w-full px-4 750:px-25 grid grid-cols-1 1100:grid-cols-[1fr_500px] gap-x-[30px]",children:[(0,n.jsxs)("div",{className:"w-full h-auto flex flex-col px-0 750:px-8 py-6 gap-6",children:[(0,n.jsxs)("div",{className:"w-full flex flex-col gap-3 550:gap-4",children:[(0,n.jsx)("p",{className:"text-base 550:text-lg font-normal leading-[26px] 550:leading-8",children:"1. Контактные данные"}),(0,n.jsxs)("div",{className:"w-full grid grid-cols-1 1300:grid-cols-2 auto-rows-[68px] gap-x-5 gap-y-4",children:[(0,n.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,n.jsx)("p",{className:"text-xs font-normal leading-5 text-gray",children:"Фамилия"}),(0,n.jsx)(r.A,{onInput:e=>{S(e,"name")},placeholder:"Зайцев"})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,n.jsx)("p",{className:"text-xs font-normal leading-5 text-gray",children:"Имя"}),(0,n.jsx)(r.A,{onInput:e=>{S(e,"surname")},placeholder:"Иван"})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,n.jsx)("p",{className:"text-xs font-normal leading-5 text-gray",children:"Телефон"}),(0,n.jsx)(r.A,{onInput:e=>{S(e,"phone")},type:"tel",placeholder:"+7 123 456 78 90",maxLength:12})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,n.jsx)("p",{className:"text-xs font-normal leading-5 text-gray",children:"Email"}),(0,n.jsx)(r.A,{onInput:e=>{S(e,"email")},type:"email",placeholder:"Зайцев"})]})]})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-3 550:gap-4",children:[(0,n.jsx)("p",{className:"text-base 550:text-lg font-normal leading-[26px] 550:leading-8",children:"2. Доставка"}),(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(s.A,{active:"sdek"===l.delivery,onActivate:()=>{O("sdek")},children:(0,n.jsx)("p",{className:"text-sm font-normal leading-6 text-gray",children:"Сдек"})}),(0,n.jsx)(s.A,{active:"post"===l.delivery,onActivate:()=>{O("post")},children:(0,n.jsx)("p",{className:"text-sm font-normal leading-6 text-gray",children:"Почта России"})}),(0,n.jsx)(s.A,{active:"delline"===l.delivery,onActivate:()=>{O("delline")},children:(0,n.jsx)("p",{className:"text-sm font-normal leading-6 text-gray",children:"Деловые линии"})}),(0,n.jsxs)("div",{style:{display:void 0!==l.delivery?"grid":"none"},className:"w-full h-fit grid-cols-1 1300:grid-cols-2 gap-x-5 gap-y-3",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("p",{className:"text-xs font-normal leading-5",children:"Город"}),(0,n.jsx)(r.A,{ref:w,placeholder:"Москва"})]}),(0,n.jsxs)("div",{className:"w-full relative flex flex-col gap-1",children:[(0,n.jsx)("p",{className:"text-xs font-normal leading-5",children:"Выберите отделение"}),(0,n.jsx)(r.A,{ref:b,onInput:e=>{I(e)},onClick:e=>{m(!0),I(e)},placeholder:"Москва"}),(0,n.jsx)("div",{style:{display:x?"flex":"none"},className:"absolute w-full h-[200px] flex-col bg-white border-1 border-light-gray border-t-0 bottom-[-200px] overflow-auto",children:Array.isArray(c)&&0!==c.length?c.map(e=>(0,n.jsx)("div",{onClick:()=>{b.current.value=e,i({...l,postOffice:e}),m(!1)},className:"w-full px-4 text-sm cursor-pointer",children:(0,n.jsx)("p",{className:"w-full border-light-gray border-b-1 py-2",children:e})},e)):(0,n.jsx)("div",{className:"w-full px-4 text-sm",children:(0,n.jsx)("p",{className:"w-full border-light-gray border-b-1 py-2",children:"Ничего не найдено"})})})]})]})]})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-3 550:gap-4",children:[(0,n.jsx)("p",{className:"text-base 550:text-lg font-normal leading-[26px] 550:leading-8",children:"3. Оплата"}),(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(s.A,{active:"pickup"===l.payment,onActivate:()=>{i({...l,payment:"pickup"})},children:(0,n.jsx)("p",{className:"text-sm font-normal leading-6 text-gray",children:"Оплата при получении товара"})}),(0,n.jsx)(s.A,{active:"card"===l.payment,onActivate:()=>{i({...l,payment:"card"})},children:(0,n.jsx)("p",{className:"text-sm font-normal leading-6 text-gray",children:"Банковская карта"})})]})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-3 550:gap-4",children:[(0,n.jsx)("p",{className:"text-xs font-normal leading-5 text-gray",children:"Комментарий"}),(0,n.jsx)("textarea",{onInput:e=>{var t;t=e.target.value,clearTimeout(N.current),N.current=setTimeout(()=>{i(e=>{if(""===t){let{comment:t,...l}=e;return l}return{...e,comment:t}})},500)},className:"w-full h-25 border-1 border-light-gray resize-none py-[10px] px-3 text-xs leading-6 font-normal placeholder:text-text-disable text-black outline-0",placeholder:"Напишите комментарий"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 px-0 550:px-6 py-4",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold leading-[34px]",children:"Итого"}),(0,n.jsx)("div",{className:"w-full flex flex-col gap-1 max-h-[240px] overflow-auto mt-4",children:j.map(e=>{let t=A.filter(t=>t.pid===e._id)[0];return(0,n.jsx)(v,{cartItem:{pid:e._id,quantity:null==t?void 0:t.quantity,color:null==t?void 0:t.color},productData:e},"cartItem-".concat(e._id))})}),(0,n.jsxs)("div",{className:"w-full h-fit flex justify-end gap-3 items-center",children:[(0,n.jsx)("p",{className:"text-sm font-normal leading-6",children:"К оплате:"}),(0,n.jsxs)("p",{className:"text-sm 550:text-base font-semibold leading-[26px]",children:[j&&0!==j.length?A.reduce((e,t,l)=>{let n=j[l];if(!n)return e+0;let a=0===n.discount?n.price:n.price-n.price*(n.discount/100);return e+t.quantity*a},0):0,"₽"]})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-3 mt-4",children:[(0,n.jsx)("p",{className:"text-sm font-medium leading-6",children:"Комплектация"}),(0,n.jsxs)("div",{className:"flex gap-6",children:[(0,n.jsx)("div",{className:"flex items-center gap-3 cursor-pointer",children:(0,n.jsx)(s.A,{active:!!l.extras&&l.extras.includes("setup"),onActivate:()=>{E("setup")},children:(0,n.jsx)("p",{className:"text-sm 550:text-base font-normal leading-[26px]",children:"Нужна установка"})})}),(0,n.jsx)("div",{className:"flex items-center gap-3 cursor-pointer",children:(0,n.jsx)(s.A,{active:!!l.extras&&l.extras.includes("setting"),onActivate:()=>{E("setting")},children:(0,n.jsx)("p",{className:"text-sm 550:text-base font-normal leading-[26px]",children:"Настройка софта"})})})]})]}),(0,n.jsx)("div",{className:"w-full flex justify-center mt-6",children:(0,n.jsx)(o.A,{onClick:()=>{L(T())},style:{opacity:T()?"100%":"45%",cursor:T()?"pointer!":"not-allowed!"},className:"w-[300px]! h-11! flex items-center justify-center",children:"Подтвердить заказ"})}),(0,n.jsxs)("div",{className:"w-full h-fit flex flex-col gap-4 mt-2 overflow-hidden",children:[(0,n.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,n.jsx)("p",{className:"text-base font-medium leading-[26px]",children:"Промокод"}),e?(0,n.jsx)(o.A,{onClick:()=>{t(!1)},className:"bg-white! text-main! px-0!",children:"Закрыть"}):(0,n.jsx)(o.A,{onClick:()=>{t(!0)},className:"bg-white! text-main! px-0!",children:"Добавить"})]}),(0,n.jsxs)("div",{style:{display:e?"grid":"none"},className:"w-full grid-cols-1 550:grid-cols-[1fr_168px] grid-rows-2 550:grid-rows-1 gap-x-4 transition-all duration-200 gap-y-6",children:[(0,n.jsx)(r.A,{readOnly:void 0!==l.promocode,ref:k,className:"w-full! h-full",placeholder:"Введите промокод"}),(0,n.jsx)(o.A,{style:{cursor:void 0===l.promocode?"pointer":"not-allowed",opacity:void 0===l.promocode?"100%":"45%"},onClick:D,className:"w-full! h-full! flex items-center justify-center",children:"Применить"})]})]})]})]})]})}let y=(0,m.default)(()=>Promise.resolve(j),{ssr:!1})},1150:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let n=l(5155),a=l(2115),r=l(4437);function s(e){return{default:e&&"default"in e?e.default:e}}l(6552);let i={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},l=(0,a.lazy)(()=>t.loader().then(s)),c=t.loading;function o(e){let s=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,o=i?a.Suspense:a.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(l,{...e})]}):(0,n.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(l,{...e})});return(0,n.jsx)(o,{...i?{fallback:s}:{},children:d})}return o.displayName="LoadableComponent",o}},2615:(e,t,l)=>{"use strict";l.d(t,{h:()=>s});var n=l(5155),a=l(2139),r=l(2669);class s{static placeContainer(e){let t=document.createElement("div");t.classList.add("fixed","bottom-0","right-0","w-dit","h-fit","max-w-50"),document.body.appendChild(t);let l=(0,r.createRoot)(t);s.container=l,s.containerDiv=t,l.render(e)}static removeContainer(){var e;null==(e=s.container)||e.unmount(),s.containerDiv&&document.body.contains(s.containerDiv)&&document.body.removeChild(s.containerDiv)}static showNotification(e){s.removeContainer(),s.placeContainer(e),setTimeout(()=>{s.removeContainer()},5e3)}static showError(e){s.showNotification((0,n.jsx)(a.A,{variant:"filled",severity:"error",children:e}))}static showSuccess(e){s.showNotification((0,n.jsx)(a.A,{variant:"filled",severity:"success",children:e}))}static showInfo(e){s.showNotification((0,n.jsx)(a.A,{variant:"filled",severity:"info",children:e}))}static showWarning(e){s.showNotification((0,n.jsx)(a.A,{variant:"filled",severity:"warning",children:e}))}}s.container=null,s.containerDiv=null},2717:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var n=l(5155);function a(e){return(0,n.jsx)("button",{style:e.style,onClick:e.onClick,className:"bg-main text-white text-base font-medium py-[7px] px-8 cursor-pointer w-fit".concat(e.className?" "+e.className:""),children:e.children})}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return r},createSnapshot:function(){return i}});let l=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw l}getStore(){}run(){throw l}exit(){throw l}enterWith(){throw l}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function r(){return a?new a:new n}function s(e){return a?a.bind(e):n.bind(e)}function i(){return a?a.snapshot():function(e,...t){return e(...t)}}},4437:(e,t,l)=>{"use strict";function n(e){let{reason:t,children:l}=e;return l}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),l(4553)},4682:(e,t,l)=>{"use strict";l.d(t,{J:()=>o});var n=l(2115);let a=e=>{let t,l=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),l.forEach(l=>l(t,e))}},a=()=>t,r={setState:n,getState:a,getInitialState:()=>s,subscribe:e=>(l.add(e),()=>l.delete(e))},s=t=e(n,a,r);return r},r=e=>{let t=(e=>e?a(e):a)(e),l=e=>(function(e,t=e=>e){let l=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(l),l})(t,e);return Object.assign(l,t),l};var s=l(9646);function i(e){s.t.db("cart").change("cart",e)}function c(e,t){let l;for(let n=0;n<e.length;n++)if(e[n].pid===t.pid&&e[n].color===t.color){l=n;break}return l}let o=(e=>e?r(e):r)(e=>({cart:s.t.db("cart").find("cart")||[],push:t=>e(e=>{let l,n=c(e.cart,t);return i(l=void 0!==n?e.cart.map((e,t)=>t===n?{...e,quantity:e.quantity+1}:e):[...e.cart,{...t,quantity:1}]),{cart:l}}),pull:t=>e(e=>{let l=c(e.cart,t);if(void 0===l)return e;let n=e.cart.map((e,t)=>l===t?{...e,quantity:e.quantity-1}:e).filter(e=>e.quantity>0);return i(n),{cart:n}}),remove:t=>e(e=>{let l=e.cart.filter(e=>e.pid!==t.pid&&e.color!==t.color);return i(l),{cart:l}})}))},6278:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=l(8140)._(l(1150));function a(e,t){var l;let a={};"function"==typeof e&&(a.loader=e);let r={...a,...t};return(0,n.default)({...r,modules:null==(l=r.loadableGenerated)?void 0:l.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6552:(e,t,l)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),l(5155),l(7650),l(8567),l(7278)},6999:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var n=l(5155),a=l(5239);function r(e){return(0,n.jsxs)("button",{className:"cursor-pointer flex items-center select-none gap-2".concat(e.className?" "+e.className:""),onClick:e.onClick?function(){e.onClick()}:void 0,children:[(0,n.jsx)(a.default,{width:e.width,height:e.height,src:e.src,alt:e.alt||""}),e.children?(0,n.jsx)("p",{children:e.children}):""]})}},7219:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var n=l(5155);function a(e){return(0,n.jsx)("input",{...e.options,readOnly:e.readOnly||!1,onClick:t=>{e.onClick&&e.onClick(t)},onInput:t=>{e.onInput&&e.onInput(t)},maxLength:e.maxLength||void 0,ref:e.ref||void 0,type:e.type||"text",placeholder:e.placeholder||"",className:"w-full h-full outline-0 py-3 px-4 border-1 border-light-gray placeholder:text-gray".concat(e.className?" "+e.className:"")})}},7828:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,l(4054).createAsyncLocalStorage)()},7909:(e,t,l)=>{"use strict";l.d(t,{default:()=>a.a});var n=l(6278),a=l.n(n)},8067:(e,t,l)=>{"use strict";async function n(e){return fetch(e,{method:"GET",cache:"force-cache",next:{revalidate:3600}})}l.d(t,{_U:()=>r,rj:()=>a,t_:()=>n});class a{static isValidRating(e){return"number"==typeof e&&!(e<=0||e>5)}static isValidPhone(e){if("string"!=typeof e)return!1;let t=e.replace(/\D/g,"");return!(t.length<10)&&!(t.length>11)&&/^\d+$/.test(t)}static isRussianText(e){return"string"==typeof e&&/^[а-яёА-ЯЁ\s]*$/.test(e)}static isValidEmail(e){if("string"!=typeof e||!e.includes("@"))return!1;let[t,l]=e.split("@");if(t.length<3||!l.includes("."))return!1;let n=l.split(".").at(-1);return!!n&&!(n.length<2)}static isInLengthRange(e,t,l){if("string"!=typeof e)return!1;let n=e.length;return n>=t&&n<=l}static minmax(e,t,l){let n=parseFloat(e);return!isNaN(n)&&n>=t&&n<=l}}function r(e){let t=new Date(e),l=t.getUTCDate(),n=["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"][t.getUTCMonth()],a=t.getUTCFullYear();return"".concat(l<10?"0".concat(l):"".concat(l)," ").concat(n,", ").concat(a)}},8181:(e,t,l)=>{Promise.resolve().then(l.bind(l,216)),Promise.resolve().then(l.bind(l,8987))},8336:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var n=l(5155);function a(e){return(0,n.jsxs)("div",{onClick:()=>{e.onActivate()},className:"flex gap-2 items-center cursor-pointer w-fit",children:[(0,n.jsx)("div",{className:"w-4 h-4 rounded-full border-1 border-gray p-[2px]",children:(0,n.jsx)("div",{style:{display:e.active?"block":"none"},className:"w-full h-full rounded-full bg-main"})}),e.children]})}},8567:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=l(7828)},8987:(e,t,l)=>{"use strict";l.d(t,{default:()=>u});var n=l(5155),a=l(63);let r={"":{name:"Главная",href:"/"},catalog:{name:"Каталог",href:"/catalog"}};var s=l(2619),i=l.n(s),c=l(2115),o=l(6999);let d={src:"/_next/static/media/icon-home.5ca91f44.svg",height:20,width:20,blurWidth:0,blurHeight:0};function u(e){let t=(0,a.usePathname)(),l=t.split("/").filter(e=>void 0!==r[e]).map(e=>r[e]);return e.targetRoutes&&(l=[...l,...e.targetRoutes]),"/"===t?"":(0,n.jsx)("div",{className:"mt-5 mb-10 px-4 550:px-[100px] flex gap-1 flex-wrap items-center".concat(e.className?" "+e.className:""),children:l.map((e,t)=>void 0===e?null:t+1!==l.length?"/"===e.href?(0,n.jsxs)(c.Fragment,{children:[(0,n.jsxs)(i(),{href:e.href,className:"leading-[26px] font-normal",children:[(0,n.jsx)("p",{className:"hidden 550:block",children:e.name}),(0,n.jsx)(o.A,{className:"550:hidden",width:20,height:20,src:d,alt:"icon-home"})]}),(0,n.jsx)("p",{className:"leading-[26px] font-normal",children:"/"})]},e.name):(0,n.jsxs)(c.Fragment,{children:[(0,n.jsx)(i(),{href:e.href,className:"leading-[26px] font-normal",children:e.name}),(0,n.jsx)("p",{className:"leading-[26px] font-normal",children:"/"})]},e.name):(0,n.jsx)("p",{className:"leading-[26px] font-normal text-gray",children:e.name},e.name))})}},9646:(e,t,l)=>{"use strict";l.d(t,{t:()=>a});class n{tryParse(){try{if(!this.isClient())return{};let e=window.localStorage.getItem(this.db);return e?JSON.parse(e):{}}catch(e){return{}}}saveValue(e){if(!this.isClient())return{status:!1,error:"Not Client"};try{return window.localStorage.setItem(this.db,JSON.stringify(e)),{status:!0}}catch(e){return{status:!1,error:e}}}isClient(){return!0}find(e){return this.tryParse()[e]}change(e,t){let l=this.tryParse();return l[e]=t,this.saveValue(l)}delete(e){let t=this.tryParse();return delete t[e],this.saveValue(t)}constructor(e){this.db=e}}class a{static db(e){return new n(e)}}}},e=>{e.O(0,[356,481,276,139,441,255,358],()=>e(e.s=8181)),_N_E=e.O()}]);